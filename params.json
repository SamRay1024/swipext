{"name":"Swipext","tagline":"An extended version of Brad Birdsall Swipe JS slider.","body":"# Swipe Extended Slider\r\n\r\n**Swipe Extended Slider** (Swipext) est un plugin **jQuery** qui étend l'excellent\r\n[Swipe slider de Brad Birdsall][1] avec de nouvelles fonctionnalités comme le **chargement différé\r\ndes images**, la **navigation** et la **pagination**.\r\n\r\nJ'ai dû, pour les besoins d'un site Web, installer un slider qui devait gérer plus de 300 images et\r\nqui devait être compatible avec les périphériques tactiles (iPhone, iPad, ...). L'ennui, c'est que\r\nsur ce genre de périphérique, les navigateurs web sont le plus souvent limités en consommation\r\nmémoire. Avec mes 300 diapos, Safari mobile plantait systematiquement (à l'époque, c'était sur iPad2\r\net iPhone 4).\r\n\r\n**Swipext** peut gérer n'importer quel contenu dans les slides mais est spécialement préparé pour\r\ngérer une structure volumineuse HTML5 figure/figcatpion.\r\n\r\nIntéressé ? Voyez la suite...\r\n\r\n## Utilisation\r\n### Structure HTML\r\n\r\n#### Structure minimum\r\n\r\n``` html\r\n<div class=\"swipext\">\r\n\t<div class=\"swipe\">\r\n\t\t<div class=\"swipe-wrap\">\r\n\t\t\t<div class=\"swipe-slide\">Slide content 1</div>\r\n\t\t\t<div class=\"swipe-slide\">Slide content 2</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n```\r\n\r\n#### Structure complète\r\n\r\n``` html\r\n<div class=\"swipext\">\r\n\t<div class=\"swipe\">\r\n\t\t<div class=\"swipe-wrap\">\r\n\t\t\t<div class=\"swipe-slide\">Slide content 1</div>\r\n\t\t\t<div class=\"swipe-slide\">Slide content 2</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"swipe-nav\">\r\n\t\t<button class=\"swipe-prev\">Prev.</button>\r\n\t\t<button class=\"swipe-next\">Next</button>\r\n\t</div>\r\n\t<div class=\"swipe-pages\" data-tag=\"button\"></div>\r\n\t<div class=\"swipe-caption\"></div>\r\n</div>\r\n```\r\n\r\nVous pouvez voir ici les fonctionnalités supplémentaires :\r\n\r\n * `.swipe-prev`, `.swipe-prev` : les boutons de navigations reconnus par Swipext,\r\n * `.swipe-pages` : le noeud du DOM ou sont insérés les boutons de pagination,\r\n * `.swipe-caption` : le noeud du DOM ou est dupliquée la légende de la diapo courante. \r\n\r\nCes noeuds ne sont pas obligatoires : les ajouter/enlever revient à activer/désactiver la\r\nfonctionnalité liée.\r\n\r\n`.swipe-nav` n'est pas reconnu par Swipext ; c'est un simple noeud qui permet d'embarquer les\r\nboutons de navigation.\r\n\r\n#### Balise des boutons de pagination\r\n\r\nPar défaut, Swipext utilise la balise `button` pour générer la pagination.\r\n\r\nVous pouvez changer cette balise depuis l'attribut `data-tag` de l'élément `.swipe-pages`. Il\r\ndevient alors possible de mettre une pagination du type :\r\n\r\n``` html\r\n<ul class=\"swipe-pages\" data-tag=\"li\"></ul>\r\n```\r\n\r\n### Règles CSS de base\r\n\r\n``` css\r\n/**\r\n * Swipejs base rules\r\n */\r\n.swipe {\r\n\toverflow: hidden;\r\n\tvisibility: hidden;\r\n\tposition: relative;\r\n}\r\n.swipe-wrap {\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n}\r\n.swipe-wrap > .swipe-slide {\r\n\tfloat:left;\r\n\twidth:100%;\r\n\tposition: relative;\r\n\tmargin:0;\r\n}\r\n.swipe-slide img {\r\n\tvertical-align: middle;\r\n\twidth: 100%;\r\n}\r\nfigure.swipe-slide { text-align: center; }\r\n\r\n/**\r\n * Swipext base rules\r\n */\r\n.swipext { position: relative; }\r\n.swipext button { cursor: pointer; }\r\n```\r\n\r\n### Structure CSS complète\r\n\r\nSwipext utilises les classes CSS pour manipuler les éléments du slider et voici la structure\r\ncomplète qu'il reconnait :\r\n\r\n\t.swipext\r\n\t\t.swipe\r\n\t\t\t.swipe-wrap\r\n\t\t\t\t.swipe-slide\r\n\t\t\t\t\timg (this is the only element selected by tag)\r\n\t\t\t\t\t.swipe-slide-caption\r\n\t\t.swipe-prev\r\n\t\t.swipe-next\r\n\t\t.swipe-pages\r\n\t\t\t.swipe-page\r\n\t\t.swipe-caption\r\n\r\nCela signigie que **vous êtes libres d'utiliser les balises HTML que vous voulez pour chaque\r\nélément** puisque Swipext ne s'en occupe pas.\r\n\r\n### Mise en place Javascript\r\n\r\nPour faire fonctionner Swipext, vous devez inclure **jQuery** et **Swipe**. J'ai l'habitude\r\nd'inclure les dépendances depuis le bas de page (et vous devriez faire de même ;-) sauf en cas de\r\nbesoins spécifiques) :\r\n\r\n``` html\r\n\t\t...\r\n\r\n\t\t<script src=\"jquery.js\"></script>\r\n\t\t<script src=\"swipe.js\"></script>\r\n\t\t<script src=\"swipext.js\"></script>\r\n\t\t<script type=\"text-javascript\">\r\n\r\n\t\t\tjQuery(document).ready(function($) {\r\n\r\n\t\t\t \t$('.swipext').swipext();\r\n\t\t\t});\r\n\r\n\t\t</script>\r\n\t</body>\r\n</html>\r\n```\r\n\r\n### Options\r\n\r\nToutes les options de Swipe sont applicables à Swipext. [Voir les options de Swipe][2].\r\n\r\nLes options ajoutées par Swipext sont les suivantes (_nom, type, valeur par défaut_) :\r\n\r\n - **lazyLoad**, boolean, false : `true` pour activer le chargement différé des images,\r\n - **lazyLoadRange**, integer, 1 : nombre d'images chargées autour de la diapo courante,\r\n - **defaultImg**, string, 'data:...' : image de remplacement utilisée pour le chargement différé\r\n (données en base 64 ou chemin),\r\n - **hideClass**, string, 'hide' : classe CSS utilisée pour masquer les boutons de navigation\r\n lorsque le caroussel n'est pas en continu et affiche la 1ère ou la dernière diapo,\r\n - **activeClass**, string, 'active' : classe CSS utiliser pour marquer le `.swipe-page` de la diapo\r\n courante.\r\n\r\n**Attention :** quand **lazyLoad** est à **true**, **startSlide** est forcée **0**.\r\n\r\n#### Appliquer à un ensemble de caroussels\r\n\r\nVous pouvez appliquer les options au sélecteur jQuery :\r\n\r\n``` javascript\r\njQuery(document).ready(function($) {\r\n\r\n\t$('.swipext').swipext({\r\n\t\r\n\t\tlazyLoad:\t\tfalse,\t\t\t// Chargement différé\r\n\t\tlazyLoadRange:\t1,\t\t\t\t// Intervalle du chargement différé\r\n\t\thideClass:\t\t'hide',\t\t\t// Classe CSS pour masquer les boutons de navigation\r\n\t\tactiveClass:\t'active',\t\t// Classe CSS pour marquer le bouton de la page courante\r\n\t\tdefaultImg:\t\t'default.jpg',\t// Image par défaut pour le chargement différé\r\n\t\tauto:\t\t\tfalse,\t\t\t// Défilement automatique, millisecondes\r\n\t\tcontinuous:\t\tfalse,\t\t\t// Retourner au début après la dernière diapo\r\n\t\tstartSlide:\t\t0\t\t\t\t// Indice de la diapo de démarrage\r\n\t});\r\n});\r\n```\r\n\r\n#### Appliquer par slider\r\n\r\nSwipext vous permet de paramétrer certaines options directement depuis le caroussel grâce à des\r\nattributs `data-*` :\r\n\r\n``` html\r\n<div class=\"swipext\"\r\n\tdata-lazyload=\"true\"\r\n\tdata-lazyloadrange=\"2\"\r\n\tdata-continuous=\"true\"\r\n\tdata-auto=\"5000\"\r\n\tdata-speed=\"300\"\r\n\tdata-startslide=\"3\"\r\n\tdata-hideclasse=\"hide\"\r\n\tdata-activeclasse=\"active\"\r\n\tdata-defaultimg=\"default.jpg\">\r\n\t<div class=\"swipe\">...</div>\r\n</div>\r\n```\r\n\r\n## Chargement différé : comment faire ?\r\n### Mettre en place la structure HTML\r\n\r\nInstaller un caroussel à chargement différé est plutôt simple. Jetez un oeil au code HTML suivant :\r\n\r\n``` html\r\n<div class=\"swipext\" data-lazyload=\"true\" data-continuous=\"true\" data-auto=\"0\" data-speed=\"300\">\r\n\t<div class=\"swipe\">\r\n\t\t<div class=\"swipe-wrap\">\r\n\r\n\t\t\t<figure class=\"swipe-slide\">\r\n\t\t\t\t<img src=\"img/image_01.jpg\" data-src=\"img/image_01.jpg\" alt=\"image_01\" />\r\n\t\t\t\t<figcaption class=\"swipe-slide-caption\">image 01</figcaption>\r\n\t\t\t</figure>\r\n\r\n\t\t\t<figure class=\"swipe-slide\">\r\n\t\t\t\t<img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\r\n\t\t\t\t\tdata-src=\"img/image_02.jpg\" alt=\"image_02\" />\r\n\t\t\t\t<figcaption class=\"swipe-slide-caption\">image 02</figcaption>\r\n\t\t\t</figure>\r\n\r\n\t\t\t<figure class=\"swipe-slide\">\r\n\t\t\t\t<img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\r\n\t\t\t\t\tdata-src=\"img/image_03.jpg\" alt=\"image_03\" />\r\n\t\t\t\t<figcaption class=\"swipe-slide-caption\">image 03</figcaption>\r\n\t\t\t</figure>\r\n\r\n\t\t\t<figure class=\"swipe-slide\">\r\n\t\t\t\t<img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\r\n\t\t\t\t\tdata-src=\"img/image_04.jpg\" alt=\"image_04\" />\r\n\t\t\t\t<figcaption class=\"swipe-slide-caption\">image 04</figcaption>\r\n\t\t\t</figure>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"swipe-nav\">\r\n\t\t<button class=\"swipe-prev\">Prev.</button>\r\n\t\t<button class=\"swipe-next\">Next</button>\r\n\t</div>\r\n\t<div class=\"swipe-pages\"></div>\r\n\t<div class=\"swipe-caption\"></div>\r\n</div>\r\n```\r\n\r\n - Chaque diapositive est une **figure**,\r\n - Chaque `img` contenue doit avoir deux attributs : `src` et `data-src`,\r\n - `data-src` doit contenir l'URI de l'image,\r\n - L'attribut `src` de la **première** diapo doit contenir l'URI de l'image,\r\n - Tous les autres attributs `src` doivent contenir une image vide. La valeur\r\n `data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7` est la\r\n représentation en base 64 d'un gif transparent de 1x1 px,\r\n - Swipext masque automatiquement tous les **.swipe-slide-caption** et remplace **.swipe-caption**\r\n avec la légende de la diapo courante : c'est nettement plus pratique pour la mise en place CSS ;-)\r\n\r\n**Pourquoi utiliser cette étrange image en base 64 ?**\r\n\r\nAfin de décharger l'image du navigateur pour libérer de la mémoire, enlever l'attribut `src` ne\r\nsuffit pas. Vous devez écraser l'image et la remplacer par ce gif transparent fonctionne plutôt\r\nbien :-).\r\n\r\n**Astuce** : selon votre thème graphique, vous préférerez peut-être utiliser un gif noir. Dans ce\r\ncas, la valeur en base 64 est\r\n`data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=`.\r\n\r\n### Intervalle de chargement différé\r\n\r\nCe paramètre vous permet de choisir le nombre d'images à charger autour de la diapo courante.\r\n\r\nVoici la séquence de fonctionnement pour un caroussel non continu avec un intervalle de 1 :\r\n\r\n\tx = image chargée\r\n\tX = diapositive courante\r\n\t- = image déchargée\r\n\r\n\tHTML : X - - - -\t(correspond au code ci-dessus)\r\n\tINIT : X x - - -\t(après l'initialisation de Swipext)\r\n\tNEXT : x X x - -\t(après clic sur le bouton suivant)\r\n\tNEXT : - x X x -\r\n\tNEXT : - - x X x\r\n\tNEXT : - - - x X\r\n\r\nMaintenant, voici la séquence de fonctionnement pour un caroussel en continu, toujours avec un\r\nintervalle de 1 :\r\n\r\n\tHTML : X - - - -\r\n\tINIT : X x - - x\t(la dernière diapo est chargée car vous pouvez revenir en arrière)\r\n\tNEXT : x X x - -\t\r\n\tNEXT : - x X x -\r\n\tNEXT : - - x X x\r\n\tNEXT : x - - x X\r\n\tNEXT : X x - - x\r\n\r\nExercice : écrivez la séquence de fonctionnement avec un intervalle de 2 :-D (ou plus).\r\n\r\n## Compatibilité\r\n\r\nSwipext est autant compatible que [Swipe][1] avec les navigateurs.\r\n\r\nJ'ai développé Swipext avec jQuery 1.10.1 mais les versions antérieurs devraient être compatibles\r\n(non testé).\r\n\r\n## Qui utilise Swipext ?\r\n\r\nPour l'instant, personne ;-). Si Swipext répond à vos besoins et que vous l'utilisez pour votre\r\nsite, je serais ravis de l'apprendre et de publier votre lien ici.\r\n\r\n  [1]: http://swipejs.com\r\n  [2]: https://github.com/bradbirdsall/Swipe#config-options","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}